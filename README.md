# В проекте используется менеджер зависимостей pipenv

pip3 install pipenv - установка менеджера зависимостей

pipenv shell - активация виртуального окружения

pipenv install - установка пакетов

# Для успешного запуска проекта также понадобится файл .env

##### Admin info
ADMIN_INFO=VITALY dubovetsvitaly@gmail.com (пример)

##### Redis store

REDIS_HOST=localhost

REDIS_PORT=6000

После добавления файла нужно запустить docker-compose

docker-compose -f docker-compose.yml up -d

# Эндпоинты API

#### Эндпоинт для сохранения массива посещенных ссылок

/api/v1/links/visited_links - POST

POST запросом отправляется json c форматом. Строго должен присутствовать ключ links и значение с массивом ссылок

{

	"links": [	
        "https://ya.ru",
        "https://ya.ru?q=123",
        "vk.com",
        "https://stackoverflow.com/questions/"
    ]
	
}

#### Эндпоинт для получения уникальных доменов, посещенных пользователем за определенный промежуток времени

/api/v1/links/visited_domains - GET

Без дополнительных GET параметров API выдаст список всех уникальных доменов посещенных за все время

Для указание промежутка нужнл указать GET параметры в таком формате

?from=1545221231&to=1545217638

Параметры должны соответствовать формату времени unix в виде десятизначного числа

# Тестирование

Чтобы запустить тесты, нужно перейти в папку ../tvl_service/src и ввести команду pytest



